\section{Conclusiones}

	\todo{Alcances de los resultados obtenidos, ventajas y desventajas, futuros trabajos, etc.}
	\todo{Disertar sobre los roles que una metodología como la presentada puede jugar en el desarrollo de sistemas y sobre
	los beneficios que supone su uso.}

	\subsection{Resúmen (copy paste de la propuesta, REVISAR!)}

		En resumidas palabras, este trabajo añade las siguientes características a Rainbow, todas ellas tendientes a disponer
		de una herramienta genérica de auto reparación más poderosa y al mismo tiempo, a involucrar a los actores funcionales
		del sistema, puesto que este tipo de actores son los que saben (junto obviamente a arquitectos, diseñadores, etc.)
		como se debe comportar el sistema ante determinadas situaciones de operación (normal o no):
		\begin{itemize}
			\item Definir las siguientes extensiones:
				\begin{itemize}
						\item Posibilidad de modelar escenarios de atributos de calidad siguiendo los principios de ATAM y QAW.
						\item Posibilidad de relacionar escenarios con componentes de la arquitectura.
						\item Posibilidad de especificar prioridades relativas entre escenarios, a ser utilizadas en la elección de la
						estrategia de reparación a ejecutar.
						\item Posibilidad de modelar estrategias de reparación y asociarlas a escenarios.
						\item Posibilidad de definir Entornos de ejecución para el sistema, los cuales tengan un papel clave en el
						algoritmo de elección de estrategias de reparación.
				\end{itemize}
			\item Proponer los cambios en el \emph{Manejador de Reparaciones} y el \emph{Evaluador de Restricciones} de Rainbow,
			e implementar algunos casos prácticos que permitan mostrar cómo esta estrategia puede funcionar y llevar a un
			framework de adaptación más flexible y poderoso.
			\item Evaluar la factibilidad de que esta nueva versión extendida de Rainbow sea compatible con la original, es decir
			que idealmente cualquier usuario que ya posea Rainbow funcionando en su sistema podría incorporar estas extensiones
			sin tener que modificar la configuración actual.
		\end{itemize}

		Todo lo antedicho tiene como consecuencia que los usuarios tendrán más herramientas para influir sobre lo que el
		sistema decida hacer para auto repararse: sólo con modificar la información de los escenarios el sistema modificará su
		comportamiento. Como contrapartida, las extensiones propuestas en este trabajo hacen que el sistema se comporte de
		manera más autónoma a medida que se agregan escenarios; esto paradójicamente le quita control al usuario, ya que el
		procedimiento de auto reparación se vuelve más complejo, dificultando el seguimiento de las decisiones tomadas por el
		\emph{framework}.

	\subsection{Arco Iris comparado con Rainbow}

		\noindent En la presente sección repasaremos las ventajas que posee Arco Iris por sobre Rainbow. Profundizaremos en
		los siguientes puntos básicos:

		\begin{center}
			\scriptsize{
			\rowcolors*[\hline]{1}{GreenYellow!25}{GreenYellow!10}
			\begin{tabularx}{\textwidth}{|X|X|X|X|}
				\textbf{Problema} & \textbf{Implementación en Rainbow} & \textbf{Implementación en \mbox{Arco Iris}} &
				\textbf{Ventajas}\\
				Rapidez en el cambio de configuración & La configuración se lee una vez al principio y no puede ser cambiada
				dinámicamente mientras Rainbow está funcionando. & Los escenarios se actualizan dinámicamente en \emph{runtime} al
				ser modificados. & Una gran parte de los cambios de configuración pasan a impactarse instantáneamente, evitando
				reiniciar el sistema para cambiar la configuración\\
				Información sobre restricciones & Guardadas en el modelo de la arquitectura (en \mbox{ACME}) & Mediante escenarios
				de QAW editados por \emph{stakeholders} & Fácil y transparente agregado y edición de las mismas.\\ Relación entre
				\emph{concerns} arquitecturales (e.g. tiempo de respuesta) & El concepto de atributo de calidad no tiene un modelado
				específico en Rainbow. & Los atributos de calidad son parte de los escenarios y se consideran al momento de escoger
				una estrategia de reparación. & Los \emph{stakeholders} tienen la posibilidad de cambiar esta información
				dinámicamente, afectando así la manera en que el \emph{framework} opera.\\
				Decisiones sobre que reparaciones realizar & También se encuentran en archivos de configuración & Se evaluán los
				escenarios cargados y como se afectan entre ellos. Luego se invoca a un módulo que decide qué reparaciones pueden
				llevarse a cabo en ese contexto. & Posibilidad de extensión de dicho módulo para incluír complejas heurísticas que
				aprendan de los efectos de reparaciones pasadas, etc.\\
				Entorno de ejecución (e.g. Alta Carga)& Configurado estáticamente. Para modificarlo es necesario el reinicio del
				\emph{framework}. & Se permite especificar distintos entornos de ejecución. El sistema cambia dinámicamente de
				entorno sin necesidad de intervención humana ni reinicio del \emph{framework}. & Se agrega una nueva variable a
				considerar para la elección de una estrategia, aumentando la probabilidad de que la misma se adeque mejor a la
				situación actual del sistema.
			\end{tabularx}
			}
		\end{center}
		
		\subsubsection{Rapidez en el cambio de configuración}
			Como se ha mencionado anteriormente, Arco Iris (es decir, Rainbow con las extensiones realizadas en este trabajo)
			trabaja utilizando:
			\begin{itemize}
				\item por un lado, una configuración de \emph{self healing} en formato XML, producida ya sea por la herramientas
				``Scenarios UI'' o bien manualmente; la cual incluye: escenarios de QAW, entornos de ejecución y \emph{artifacts}.
				\item por otro, una batería de archivos de configuración heredados de Rainbow, en distintos formatos: stitch, ACME,
				\emph{properties files}, etc.
			\end{itemize}
			Una de las mejoras que agrega este trabajo a Rainbow es el de proveer un mecanismo dinámico de actualización de la
			configuración de \emph{self healing} mediante el cual cualquier modificación en el archivo XML de configuración
			cargada al iniciar Arco Iris, conlleva un ``refresco'' de la configuración que está siendo usada en tiempo de
			ejecución por el \emph{framework}, sin necesidad de intervención alguna de un operador.
			
			Este dinamismo agregado en lo que respecta a los cambios de configuración, trae aparejado una serie de ventajas muy
			importantes, a saber:
			\begin{itemize}
				\item ya no es necesario reiniciar el \emph{framework} de auto reparación para modificar cualquier característica
				relacionada con los escenarios, entornos de ejecución y artifacts utilizados en el sistema. Esto evita tiempos de
				no-servicio, recursos involucrados en la reconfiguración y reinicio del sistema, etc. 
				\item se agrega flexibilidad al uso de la herramienta: se podrían agregar nuevos escenarios, nuevos entornos de
				ejecución que (re)definan situaciones de ejecución concretas, cambiar pesos de concerns y/o prioridades relativas
				entre escenarios de acuerdo a necesidades puntuales del negocio e infinidad de otros cambios de configuración
				relevantes a la auto reparación quedarían impactados en el sistema automáticamente.
			\end{itemize}
			
		\subsubsection{Información sobre restricciones}
			Como se ha visto anteriormente, en Rainbow las restricciones impuestas sobre el funcionamiento del sistema (e.g.
			``el tiempo de respuesta para cualquier tipo de \emph{request} no debe superar los 5 mílisegundos'') son guardadas en
			el modelo de la arquitectura, el cual está expresado en el lenguaje de descripción de arquitecturas \mbox{ACME}.
			Esto claramente representa un impedimento para que los \emph{stakeholders} no técnicos del sistema puedan participar
			activamente en la definición de requerimientos de auto reparación para el mismo; ya que de intentarlo, deberían
			poder comprender y modificar correctamente un diagrama de arquitectura, con sus restricciones escritas en un lenguaje
			no coloquial sino especialmente técnico.
			
			En Arco Iris, los \emph{stakeholders} usan una interfaz visual\ref{sec:scenariosUI} intuitiva y fácil de utilizar
			para expresar restricciones del sistema en formato de escenarios de QAW; los cuales a su vez fueron pensados
			originalmente para facilitar la participación de personas con roles funcionales.
			
			La información incorporada de esta manera, es analizada por Arco Iris para tomar decisiones en tiempo de ejecución
			sobre las auto reparaciones a realizar, considerando una variedad de aspectos, todos ellos configurados en un único
			lugar: los escenarios de QAW.
			
			Como vemos, Arco Iris provee una manera simplificada de agregar y/o editar restricciones sobre el sistema, sin
			necesidad de modificar su modelo de arquitectura, sino por medio de los escenarios de QAW. Esto representa una avance
			sobre como funciona Rainbow hoy día en ese aspecto.

		\subsubsection{Relación entre \emph{concerns} arquitecturales}

			\todo{JONY: Cambiar lo que habiamos puesto ya que esto SI existe en Rainbow!}

			El concepto de atributo de calidad no tiene un modelado específico en Rainbow. Consecuentemente, los \emph{concerns}
			arquitecturales tampoco están modelados en Rainbow aunque sí están presentes en ``Znn'', y son llamados ``Quality
			Dimensions''. Los mismos se relacionan estáticamente en una función de utilidad (dónde el valor de los atributos suman 1)
			
			Los atributos de calidad son parte de los escenarios y se relacionan utilizando la terminología de ATAM. Un escenario
			puede tener mayor prioridad que otro y esto afecta a los \emph{tradeoffs} que la presente extensión a Rainbow deberá
			hacer al momento de escoger una estrategia de reparación.
			
			Los \emph{stakeholders} tienen la posibilidad de cambiar esta información dinámicamente y consecuentemente, afectar
			la manera en que el \emph{framework} opera.

		\subsubsection{Decisiones sobre que reparaciones realizar}

			\todo{TODO}

			Las reparaciones a realizar también se encuentran en archivos de configuración
			
			El sistema evalúa los escenarios cargados y como se afectan entre ellos. Luego invoca a un módulo que decide qué
			reparaciones pueden llevarse a cabo de acuerdo a las restricciones.
			
			Dicho módulo puede ser extendido para incluír complejas heurísticas que aprendan de los efectos de reparaciones
			pasadas y puedan así mejorar los resultados.

		\subsubsection{Entorno de ejecución}

			\todo{TODO}

			Entorno de ejecución (e.g. Alta Carga)
			
			El entorno de ejecución es estáticamente configurado en un archivo de configuración y no se modifica de acuerdo al
			estado dinámico del sistema que se intenta reparar. Para modificar tal estático y limitado valor, es necesario el
			reinicio de Rainbow.
			
			El modelo de Arco Iris permite al usuario especificar distintos entornos de ejecución, los cuales tienen
			restricciones asociadas que se chequean continuamente y que, de cumplirse, hacen que el sistema automáticamente se
			considere que está en otro entorno de ejecución, afectando al algoritmo de decisión de estrategias de reparación.
			
			Lo antedicho, agrega una nueva arista a las variables consideradas al momento de elegir la mejor estrategia de
			reparación, aumentando las probabilidades de que la estrategia seleccionada sea más precisa de acuerdo a la situación
			del sistema en \emph{runtime}.
