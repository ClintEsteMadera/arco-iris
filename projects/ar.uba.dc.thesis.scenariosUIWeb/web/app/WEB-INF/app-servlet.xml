<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context-2.5.xsd">

	<!-- Scan context package for any eligible annotation configured beans. -->
	<context:component-scan base-package="ar.uba.dc.thesis.scenariosUIWeb.common.ui.web,ar.uba.dc.thesis.scenariosUIWeb.ui.web"/>

	<bean id="velocityConfigurer"
		class="org.springframework.web.servlet.view.velocity.VelocityConfigurer">
		<property name="resourceLoaderPath"
			value="WEB-INF/views/,WEB-INF/views/agente,WEB-INF/views/scenarios" />
		<property name="velocityProperties">
			<props>
				<prop key="userdirective">
					ar.uba.dc.thesis.scenariosUIWeb.common.ui.web.velocity.WebAppTemplateApplicationMenuAuthDirective
				</prop>
				<prop key="velocimacro.library">macro.vm</prop>
				<prop key="velocimacro.library.autoreload">true</prop>
			</props>
		</property>
	</bean>

	<!--
		This bean processes annotated handler methods, applying Garantias-specific PropertyEditors
		for request parameter binding. It overrides the default AnnotationMethodHandlerAdapter.
	-->
	<bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter">
		<property name="webBindingInitializer">
			<bean class="ar.uba.dc.thesis.scenariosUIWeb.ui.web.GarantiasBindingInitializer"/>
		</property>
	</bean>

	<bean id="viewResolver"
		class="org.springframework.web.servlet.view.velocity.VelocityViewResolver">
		<property name="cache" value="true" />
		<property name="prefix" value="" />
		<property name="suffix" value=".vm" />
		<property name="exposeSpringMacroHelpers" value="true" />
		<property name="numberToolAttribute" value="numbertool" />
		<property name="dateToolAttribute" value="datetool" />
	</bean>

	<!-- Mapea las urls a controllers por convencion -->
	<bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping">
		<property name="order" value="1" />
	</bean>

	<!-- Mapea las urls a controllers por convencion, a la url le agregar Controller al final -->
	<bean class="org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping">
		<property name="order" value="2" />
		<property name="caseSensitive" value="true" />
	</bean>

	<!-- DefaultAnnotationHandlerMapping javadoc:
		NOTE: If you define custom HandlerMapping beans in your DispatcherPortlet context,
		you need to add a DefaultAnnotationHandlerMapping bean explicitly, since custom HandlerMapping
		beans replace the default mapping strategies
	-->
	<bean class="org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping"/>

	<bean class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">
		<property name="defaultErrorView" value="general-error"/>
		<property name="warnLogCategory" value="exceptionResolver"/>
	</bean>

</beans>
